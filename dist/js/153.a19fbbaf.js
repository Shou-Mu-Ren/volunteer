"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[153],{3153:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info"},[e("div",{staticClass:"container"},[e("div",{staticClass:"header"},[e("div",{staticClass:"logo"},[e("router-link",{attrs:{to:"/index"}},[e("img",{attrs:{src:s(6949),alt:""}})])],1),e("div",{staticClass:"back",on:{click:t.backHome}},[t._v(" 返回上一页 "),e("span",{staticClass:"iconfont icon-fanhui"})])]),e("div",{staticClass:"functions"},t._l(t.functionList,(function(s,a){return e("div",{key:a,staticClass:"function",class:1==s.active?"active":"",on:{click:function(e){return t.selectFunction(s)}}},[t._v(" "+t._s(s.title)+" ")])})),0),"个人信息"==t.functionType?e("div",{staticClass:"member"},[t._m(0),e("div",{staticClass:"member_province"},[e("label",{attrs:{for:""}},[t._v(" 高考地区: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.member.place,expression:"member.place"}],attrs:{type:"text",placeholder:"请输入高考地区",disabled:0==t.changeFlag},domProps:{value:t.member.place},on:{input:function(e){e.target.composing||t.$set(t.member,"place",e.target.value)}}})]),e("div",{staticClass:"member_province"},[e("label",{attrs:{for:""}},[t._v(" 毕业中学: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.member.school,expression:"member.school"}],attrs:{type:"text",placeholder:"请输入毕业中学",disabled:0==t.changeFlag},domProps:{value:t.member.school},on:{input:function(e){e.target.composing||t.$set(t.member,"school",e.target.value)}}})]),e("div",{staticClass:"member_province"},[e("label",{attrs:{for:""}},[t._v(" 高考年份: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.member.year,expression:"member.year"}],attrs:{type:"text",placeholder:"请输入高考年份",disabled:0==t.changeFlag},domProps:{value:t.member.year},on:{input:function(e){e.target.composing||t.$set(t.member,"year",e.target.value)}}})]),e("div",{staticClass:"member_subjects"},[e("label",{attrs:{for:""}},[t._v(" 高考选科: ")]),e("div",{staticClass:"subjects"},t._l(t.subject,(function(s,a){return e("div",{key:a,staticClass:"member_subject",class:1==s.active?"active":"",on:{click:function(e){return t.selectSubject(s)}}},[t._v(" "+t._s(s.title)+" ")])})),0)]),e("div",{staticClass:"member_bodys"},[e("label",{attrs:{for:""}},[t._v(" 身体状况: ")]),e("div",{staticClass:"bodys"},t._l(t.bodyList,(function(s,a){return e("div",{key:a,staticClass:"member_body",class:1==s.active?"active":"",on:{click:function(e){return t.changeBody(s)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),e("div",{staticClass:"member_phone"},[e("label",{attrs:{for:""}},[t._v(" 手机号: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.member.phone,expression:"member.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:0==t.changeFlag},domProps:{value:t.member.phone},on:{input:function(e){e.target.composing||t.$set(t.member,"phone",e.target.value)}}})]),0==t.changeFlag?e("div",{staticClass:"member_change",on:{click:t.tochange}},[t._v(" 修改信息 ")]):t._e(),1==t.changeFlag?e("div",{staticClass:"member_sure",on:{click:t.surechange}},[t._v(" 修改完成 ")]):t._e()]):t._e(),"我的收藏"==t.functionType?e("div",{staticClass:"star"},[e("div",{staticClass:"fill_right"},[e("div",{staticClass:"fill_right_tabs"},t._l(t.tabList,(function(s,a){return e("div",{key:a,staticClass:"fill_right_tab"},[t._v(" "+t._s(s.name)+" ")])})),0),e("div",{staticClass:"fill_right_list"},t._l(t.fillList,(function(s,a){return e("div",{key:a,staticClass:"fill_right_item"},[t._m(1,!0),e("div",{staticClass:"fill_right_item_line"},[e("h5",[t._v(t._s(s.name))]),e("p",[t._v("("+t._s(s.type)+" | "+t._s(s.nature)+")")]),e("span",[t._v(" 代码: "),e("em",[t._v(t._s(s.code))])])]),e("div",{staticClass:"fill_right_item_line"},[e("h4",[t._v(t._s(s.universityName))]),e("span",[t._v(" ("+t._s(s.universityLevel)+") ")]),e("p",[t._v(" 代码： "),e("em",[t._v(t._s(s.universityCode))]),t._v(" "+t._s(1==s.f211?"| 211":"")+" / "+t._s(1==s.f985?"| 985":"")+" / "+t._s("本科"==s.level?"保研":"")+" "+t._s(1==s.f211&&1==s.f985?"/ 国重点":"")+" | "+t._s(s.provinceName)+" ")])]),e("div",{staticClass:"fill_right_item_line"},[e("div",{staticClass:"fill_btn",on:{click:function(e){return t.dontcare(s)}}},[t._v("取消收藏")])])])})),0)])]):t._e()])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"member_province"},[e("label",{attrs:{for:""}},[t._v(" 高考省份: ")]),e("input",{attrs:{type:"text",placeholder:"请输入高考省份",value:"山东",disabled:"false"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"fill_right_item_line"},[e("h5",[e("span",[t._v("1")]),t._v("%")]),e("p",[t._v("风险极大")]),e("div",{staticClass:"recom_tag"},[t._v("冲")])])}],n=(s(7658),{name:"info",data(){return{functionType:"个人信息",functionList:[{title:"个人信息",active:!0},{title:"我的收藏",active:!1}],subject:[{title:"物理",active:!1},{title:"化学",active:!1},{title:"生物",active:!1},{title:"政治",active:!1},{title:"历史",active:!1},{title:"地理",active:!1}],bodyList:[{name:"色盲色弱",active:!1},{name:"近视",active:!1},{name:"健康",active:!1},{name:"其他",active:!1}],url:"http://47.93.21.24:3001/api",token:"",member:{},changeFlag:!1,subjectNum:3,updateDto:{year:"",subject:"",place:"",school:"",state:""},tabList:[{name:"录取概率"},{name:"专业"},{name:"院校"},{name:"填报"}],fillList:[]}},mounted(){this.token=window.localStorage.getItem("X-token"),this.getMember(),this.getMyStar()},methods:{backHome(){this.$router.push({name:"index"})},getMember(){let t=this;this.$http.get(this.url+"/user/info",{headers:{Authorization:t.token}}).then((function(e){if(200==e.data.code){t.member=e.data.data;let i=e.data.data.subject.split("/");for(var s=0;s<t.subject.length;s++)for(var a=0;a<i.length;a++)i[a]==t.subject[s].title&&(t.subject[s].active=!0);for(s=0;s<t.bodyList.length;s++)e.data.data.state==t.bodyList[s].name&&(t.bodyList[s].active=!0)}})).catch((function(t){console.log(t)}))},getMyStar(){let t=this;this.$http.post(this.url+"/major/collectList",{},{headers:{Authorization:t.token}}).then((function(e){200==e.data.code&&(t.fillList=e.data.data)})).catch((function(t){console.log(t)}))},dontcare(t){let e=this;this.$http.post(this.url+"/user/collect",{majorId:t.id,state:1},{headers:{Authorization:e.token}}).then((function(t){200==t.data.code?(e.$message({message:"取消关注成功",type:"success"}),e.getMyStar()):this.$message({message:"取消关注失败",type:"warning"})})).catch((function(t){console.log(t)}))},tochange(){this.changeFlag=!0},surechange(){let t=this;this.updateDto.place=this.member.place,this.updateDto.year=this.member.year,this.updateDto.school=this.member.school;let e=[];for(var s=0;s<this.subject.length;s++)1==this.subject[s].active&&e.push(this.subject[s].title);this.updateDto.subject=e.join("/");for(s=0;s<this.bodyList.length;s++)1==this.bodyList[s].active&&(this.updateDto.state=this.bodyList[s].name);""==this.updateDto.year?this.$message({message:"请填写高考年份",type:"warning"}):""==this.updateDto.place?this.$message({message:"请填写高考地区",type:"warning"}):""==this.updateDto.school?this.$message({message:"请填写毕业中学",type:"warning"}):""==this.updateDto.password?this.$message({message:"请填写账号密码",type:"warning"}):""==this.updateDto.state?this.$message({message:"请选择身体状态",type:"warning"}):""==this.updateDto.subject?this.$message({message:"请选择高考科目",type:"warning"}):3!=this.subjectNum?this.$message({message:"请选择3门高考科目",type:"warning"}):this.$http.post(this.url+"/user/infoUpdate",t.updateDto,{headers:{Authorization:t.token}}).then((function(e){200==e.data.code?(t.$message({message:"修改信息成功",type:"success"}),t.changeFlag=!1,t.getMember()):t.$message({message:e.data.msg,type:"warning"})})).catch((function(t){console.log(t)}))},selectFunction(t){for(var e=0;e<this.functionList.length;e++)this.functionList[e].active=!1;t.active=!0,this.functionType=t.title},selectSubject(t){0==t.active&&this.subjectNum<3?(this.subjectNum++,t.active=!0):1==t.active&&(this.subjectNum--,t.active=!1)},changeBody(t){for(var e=0;e<this.bodyList.length;e++)this.bodyList[e].active=!1;t.active=!0}}}),c=n,o=s(1001),l=(0,o.Z)(c,a,i,!1,null,"47da22b7",null),r=l.exports},6949:function(t,e,s){t.exports=s.p+"img/logo.57580444.png"}}]);
//# sourceMappingURL=153.a19fbbaf.js.map