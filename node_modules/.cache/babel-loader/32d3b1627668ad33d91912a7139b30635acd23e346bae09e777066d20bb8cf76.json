{"ast":null,"code":"// 引入组件 以及 插件\nimport Header from \"@/components/Header.vue\";\nimport Footer from \"@/components/Footer.vue\";\nexport default {\n  name: \"VIP\",\n  components: {\n    Header,\n    Footer\n  },\n  data() {\n    return {\n      currentTab: \"我的VIP\",\n      tabs: [{\n        title: \"我的VIP\"\n      }, {\n        title: \"我的咨询\"\n      }, {\n        title: \"数据分析\"\n      }],\n      userList: [{\n        id: 1,\n        picture: require(\"../../assets/uploads/vip/logo.png\"),\n        name: \"晚风轻轻吹\",\n        message: \"好的\",\n        time: \"昨天\",\n        nation: \"\",\n        num: 0,\n        classObj: {\n          active: true\n        }\n      }],\n      vipList: [{\n        id: 1,\n        title: \"永久会员卡\",\n        money: 199,\n        ordinary: 399\n      }, {\n        id: 2,\n        title: \"体验卡\",\n        money: 1,\n        ordinary: 10\n      }],\n      url: \"http://47.93.21.24:3001/api\",\n      token: \"\",\n      member: {}\n    };\n  },\n  mounted() {\n    this.token = window.localStorage.getItem(\"X-token\");\n    this.getMemberInfo();\n  },\n  methods: {\n    selectTab(item) {\n      this.currentTab = item.title;\n    },\n    // 获取个人信息\n    getMemberInfo() {\n      let _this = this;\n      this.$http.get(this.url + \"/user/info\", {\n        headers: {\n          Authorization: _this.token\n        }\n      }).then(function (res) {\n        if (res.data.code == 200) {\n          _this.member = res.data.data;\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // 购买vip\n    buyVip(item) {\n      let _this = this;\n      this.$http.post(this.url + \"/user/vip\", {\n        vip: item.id\n      }, {\n        headers: {\n          Authorization: _this.token\n        }\n      }).then(function (res) {\n        if (res.data.code == 200) {\n          _this.$message({\n            message: \"购买成功\",\n            type: \"success\"\n          });\n        } else {\n          _this.$message({\n            message: res.data.msg,\n            type: \"warning\"\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["Header","Footer","name","components","data","currentTab","tabs","title","userList","id","picture","require","message","time","nation","num","classObj","active","vipList","money","ordinary","url","token","member","mounted","window","localStorage","getItem","getMemberInfo","methods","selectTab","item","_this","$http","get","headers","Authorization","then","res","code","catch","error","console","log","buyVip","post","vip","$message","type","msg"],"sources":["src/pages/vip/index.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 头部组件 -->\n    <Header></Header>\n\n    <!-- 会员区域 -->\n    <section class=\"vip_section\">\n      <div class=\"container\">\n        <div class=\"vip\">\n          <!-- vip导航栏 -->\n          <div class=\"vip_tabs\">\n            <div\n              class=\"vip_tab\"\n              v-for=\"(item, index) in tabs\"\n              :key=\"index\"\n              :class=\"currentTab == item.title ? 'active' : ''\"\n              @click=\"selectTab(item)\"\n            >\n              {{ item.title }}\n            </div>\n          </div>\n\n          <!-- vip内容区域 -->\n          <div class=\"vip_content\" v-if=\"currentTab == '我的VIP'\">\n            <div class=\"vip_card\">\n              <div class=\"vip_card_title\">我的卡包:</div>\n              <div class=\"vip_card_item\">\n                <div class=\"vip_card_item_title\">{{member.vip == 1?'永久会员':'体验会员'}}</div>\n                <div class=\"vip_card_item_msg\">\n                  会员卡特权:\n                  <p>\n                    1、消费即享积分,按照各类产品的不同，采取不同的积分方式：\n                  </p>\n                  <p>\n                    2、一分积分可直接当1元现金劵用使用，可到网站中使用，每次消费最多可用50%的积分；\n                  </p>\n                  <p>3、超级会员永久，年年送大礼！！！</p>\n                </div>\n              </div>\n            </div>\n            <div class=\"vipList\">\n              <div\n                class=\"vip_item\"\n                v-for=\"(item, index) in vipList\"\n                :key=\"index\"\n              >\n                <h5>{{ item.title }}</h5>\n                <p><span>¥</span>{{ item.money }}</p>\n                <em> 原价：¥{{ item.ordinary }} </em>\n                <div class=\"vip_btn\" @click=\"buyVip(item)\">立即购买</div>\n              </div>\n            </div>\n          </div>\n\n          <!-- vip消息区域 -->\n          <div class=\"vip_chat\" v-if=\"currentTab == '我的咨询'\">\n            <div class=\"chat-lf\">\n              <div class=\"chat-lf-search\">\n                <div class=\"chat-lf-input\">\n                  <span class=\"iconfont icon-sousuo\"></span>\n                  <input type=\"text\" placeholder=\"搜索\" />\n                </div>\n                <div class=\"chat-lf-add\">+</div>\n              </div>\n              <div class=\"chat-lf-list\">\n                <div\n                  class=\"chat-lf-item\"\n                  v-for=\"item in userList\"\n                  :key=\"item.id\"\n                  :class=\"item.classObj\"\n                >\n                  <div class=\"chat-lf-img\">\n                    <img :src=\"item.picture\" alt=\"\" />\n                    <div class=\"num\" v-show=\"item.num > 0\">{{ item.num }}</div>\n                    <div class=\"nature\" v-if=\"item.nation\">\n                      <img :src=\"item.nation\" alt=\"\" />\n                    </div>\n                  </div>\n                  <div class=\"chat-lf-msg\">\n                    <div class=\"chat-lf-title\">{{ item.name }}</div>\n                    <div class=\"chat-lf-info\">{{ item.message }}</div>\n                  </div>\n                  <div class=\"chat-time\">{{ item.time }}</div>\n                </div>\n              </div>\n            </div>\n            <div class=\"chat-rt\">\n              <div class=\"chat-rt-title\">晚风轻轻吹</div>\n              <div class=\"chat-rt-con\"></div>\n              <div class=\"chat-rt-handle\">\n                <div class=\"handle-lang\">\n                  <div class=\"handle-eng\">英</div>\n                  <div class=\"handle-ch active\">中</div>\n                </div>\n              </div>\n              <div class=\"chat-rt-send\">\n                <span></span>\n                <textarea cols=\"30\" rows=\"10\" placeholder=\"请输入\"></textarea>\n                <button>发送</button>\n              </div>\n            </div>\n          </div>\n\n          <!-- vip数据区域 -->\n          <div class=\"vip_data\" v-if=\"currentTab == '数据分析'\">\n            <img src=\"../../assets/uploads/vip/no.png\" alt=\"\" />\n            <p>暂未开放</p>\n          </div>\n        </div>\n      </div>\n    </section>\n    <!-- 尾部组件 -->\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n// 引入组件 以及 插件\nimport Header from \"@/components/Header.vue\";\nimport Footer from \"@/components/Footer.vue\";\nexport default {\n  name: \"VIP\",\n  components: {\n    Header,\n    Footer,\n  },\n  data() {\n    return {\n      currentTab: \"我的VIP\",\n      tabs: [\n        {\n          title: \"我的VIP\",\n        },\n        {\n          title: \"我的咨询\",\n        },\n        {\n          title: \"数据分析\",\n        },\n      ],\n      userList: [\n        {\n          id: 1,\n          picture: require(\"../../assets/uploads/vip/logo.png\"),\n          name: \"晚风轻轻吹\",\n          message: \"好的\",\n          time: \"昨天\",\n          nation: \"\",\n          num: 0,\n          classObj: {\n            active: true,\n          },\n        },\n      ],\n      vipList: [\n        {\n          id: 1,\n          title: \"永久会员卡\",\n          money: 199,\n          ordinary: 399,\n        },\n        {\n          id: 2,\n          title: \"体验卡\",\n          money: 1,\n          ordinary: 10,\n        },\n      ],\n      url: \"http://47.93.21.24:3001/api\",\n      token: \"\",\n      member:{}\n    };\n  },\n  mounted() {\n    this.token = window.localStorage.getItem(\"X-token\");\n    this.getMemberInfo();\n  },\n  methods: {\n    selectTab(item) {\n      this.currentTab = item.title;\n    },\n\n    // 获取个人信息\n    getMemberInfo() {\n      let _this = this;\n      this.$http\n        .get(this.url + \"/user/info\", {\n          headers: {\n            Authorization: _this.token,\n          },\n        })\n        .then(function (res) {\n          if (res.data.code == 200) {\n            _this.member = res.data.data;\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n\n    // 购买vip\n    buyVip(item) {\n      let _this = this;\n      this.$http\n        .post(\n          this.url + \"/user/vip\",\n          {\n            vip: item.id,\n          },\n          {\n            headers: {\n              Authorization: _this.token,\n            },\n          }\n        )\n        .then(function (res) {\n          if (res.data.code == 200) {\n            _this.$message({\n              message: \"购买成功\",\n              type: \"success\",\n            });\n          } else {\n            _this.$message({\n              message: res.data.msg,\n              type: \"warning\",\n            });\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n// 会员区域\n.vip_section {\n  margin: 2rem 0;\n  .vip {\n    .vip_tabs {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      .vip_tab {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: #666;\n        font-size: 0.9rem;\n        width: 30%;\n        height: 3rem;\n        border: 1px solid #ccc;\n        border-radius: 0.3rem;\n        cursor: pointer;\n        &.active {\n          font-size: 1.1rem;\n          font-weight: bolder;\n          color: #fff;\n          background-color: #427dff;\n        }\n      }\n    }\n    .vip_content {\n      margin-top: 1.5rem;\n      padding: 2rem;\n      background-color: #fff;\n      box-shadow: 0 0 2rem 0 #ccc;\n      border-radius: 0.5rem;\n      .vip_card {\n        .vip_card_title {\n          font-size: 1.2rem;\n          color: #333;\n          font-weight: bolder;\n        }\n        .vip_card_item {\n          width: 100%;\n          margin-top: 1rem;\n          padding: 1rem;\n          background-color: #f7f7f7;\n          border-radius: 0.5rem;\n          .vip_card_item_title {\n            color: #427dff;\n            font-weight: bolder;\n            font-size: 1rem;\n          }\n          .vip_card_item_msg {\n            margin-top: 0.7rem;\n            font-size: 0.9rem;\n            color: #666;\n            p {\n              margin: 0.6rem 0;\n            }\n          }\n        }\n      }\n      .vipList {\n        display: flex;\n        justify-content: center;\n        width: 100%;\n        margin-top: 1.5rem;\n        .vip_item {\n          margin: 0 2rem;\n          width: 40%;\n          padding: 1.5rem;\n          background-color: #f7f7f7;\n          border-radius: 0.5rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          h5 {\n            font-size: 1.2rem;\n            color: #333;\n            font-weight: bolder;\n          }\n          p {\n            font-size: 2rem;\n            margin-top: 1rem;\n            color: #427dff;\n            font-weight: bolder;\n            span {\n              font-size: 1rem;\n              margin-right: 0.2rem;\n            }\n          }\n          em {\n            text-decoration: line-through;\n            font-size: 1rem;\n            color: #666;\n          }\n          .vip_btn {\n            cursor: pointer;\n            margin-top: 1.2rem;\n            width: 8rem;\n            height: 2.2rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: #fff;\n            border-radius: 0.4rem;\n            background-color: #427dff;\n          }\n        }\n      }\n    }\n    .vip_chat {\n      display: flex;\n      margin-top: 1.5rem;\n      padding: 2rem;\n      background-color: #fff;\n      box-shadow: 0 0 2rem 0 #ccc;\n      border-radius: 0.5rem;\n      .chat-lf {\n        width: 20%;\n        border: 1px solid #e6e6e7;\n      }\n      .chat-rt {\n        width: 80%;\n      }\n      .chat-lf-search {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        height: 4rem;\n        padding: 0.8rem;\n        border-bottom: 0.05rem solid #f7f7f7;\n        background-color: #f3f0f0;\n      }\n\n      .chat-lf-input {\n        position: relative;\n        width: 12rem;\n        height: 2.5rem;\n        background-color: #fff;\n      }\n      .chat-lf-input span {\n        position: absolute;\n        top: 0.5rem;\n        left: 0.4rem;\n        font-size: 1rem;\n        font-weight: bolder;\n        color: #878787;\n      }\n      .chat-lf-input input {\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        border: 0;\n        padding-left: 1.5rem;\n        font-size: 0.8rem;\n      }\n      .chat-lf-input input::placeholder {\n        color: #878787;\n        font-size: 0.8rem;\n      }\n      .chat-lf-add {\n        cursor: pointer;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 2.5rem;\n        height: 2.5rem;\n        background-color: #fff;\n      }\n      .chat-lf-add span {\n        color: #848484;\n        font-size: 1rem;\n        font-weight: bolder;\n      }\n      .chat-lf-item {\n        cursor: pointer;\n        position: relative;\n        padding: 0.9rem 0.8rem;\n        display: flex;\n        align-items: center;\n      }\n      .chat-lf-item:hover {\n        background-color: #f3f0f0;\n      }\n      .chat-lf-item.active {\n        background-color: #f3f0f0;\n      }\n      .chat-lf-img {\n        position: relative;\n        width: 3rem;\n        height: 3rem;\n        border-radius: 0.3rem;\n      }\n      .chat-lf-img img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n      .chat-lf-msg {\n        margin-left: 0.5rem;\n        width: 100px;\n      }\n      .chat-lf-title {\n        color: #282d3b;\n        font-weight: 600;\n        width: 5rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .chat-lf-info {\n        font-size: 0.7rem;\n        color: #878787;\n        margin-top: 0.3rem;\n        width: 5rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .chat-time {\n        position: absolute;\n        top: 1.25rem;\n        right: 0.8rem;\n        font-size: 0.8rem;\n        color: #878787;\n      }\n      .num {\n        position: absolute;\n        top: -0.25rem;\n        right: -0.25rem;\n        width: 1rem;\n        height: 1rem;\n        border-radius: 50%;\n        background-color: #ed4135;\n        color: #fff;\n        text-align: center;\n        line-height: 1rem;\n        font-size: 0.7rem;\n        font-weight: bolder;\n      }\n      .nature {\n        position: absolute;\n        left: -2px;\n        bottom: -8px;\n        width: 1.25rem;\n        height: 1.25rem;\n        border-radius: 50%;\n        overflow: hidden;\n      }\n      .chat-rt-title {\n        width: 100%;\n        height: 4rem;\n        background: #f5f3f3;\n        border-bottom: 0.05rem solid #e6e6e7;\n        padding-left: 1rem;\n        line-height: 4rem;\n        color: #282d3b;\n        font-size: 0.9rem;\n        font-weight: bolder;\n      }\n      .chat-rt-con {\n        width: 100%;\n        height: 20rem;\n        border-bottom: 0.05rem solid #e6e6e7;\n        background-color: #f7f7f7;\n      }\n      .chat-rt-handle {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 3rem;\n        background-color: #f5f3f3;\n        padding-left: 0.6rem;\n      }\n      .handle-lang {\n        display: flex;\n        width: 3rem;\n        height: 1.3rem;\n      }\n      .handle-lang div {\n        cursor: pointer;\n        width: 50%;\n        height: 100%;\n        border: 0.1rem solid #282d3b;\n        text-align: center;\n        line-height: 1.3rem;\n      }\n      .handle-lang .handle-ch {\n        border-left: 0;\n      }\n      .handle-lang div.active {\n        background-color: #282d3b;\n        color: #fff;\n      }\n      .chat-rt-send {\n        position: relative;\n        width: 100%;\n        height: 8rem;\n        background-color: #f7f7f7;\n      }\n      .chat-rt-send span {\n        position: absolute;\n        top: 0.9rem;\n        left: 0.6rem;\n        display: block;\n        width: 0.2rem;\n        height: 1rem;\n        background-color: #282d3b;\n      }\n      .chat-rt-send textarea {\n        width: 100%;\n        height: 100%;\n        background-color: transparent;\n        padding: 0.8rem 1rem;\n        border: 0;\n        resize: none;\n        outline: none;\n        font-size: 0.8rem;\n        color: #282d3b;\n        font-weight: 600;\n      }\n      .chat-rt-send button {\n        position: absolute;\n        bottom: 1.3rem;\n        right: 1.3rem;\n        width: 5.5rem;\n        height: 2rem;\n        background-color: #f3f0f0;\n        color: #282d3b;\n        font-size: 0.8rem;\n        border: 0;\n        font-weight: bolder;\n      }\n    }\n    .vip_data {\n      margin-top: 1.5rem;\n      padding: 2rem;\n      background-color: #fff;\n      box-shadow: 0 0 2rem 0 #ccc;\n      border-radius: 0.5rem;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      img {\n        width: 15rem;\n        height: 15rem;\n        object-fit: contain;\n      }\n      p {\n        color: #333;\n        font-weight: bolder;\n        font-size: 2.5rem;\n        margin-top: 1.5rem;\n      }\n    }\n  }\n}\n\n@media screen and (max-width: 1200px) {\n}\n@media screen and (max-width: 900px) {\n  .vip_section .vip .vip_chat .chat-lf {\n    width: 40%;\n  }\n  .vip_section .vip .vip_chat .chat-rt {\n    width: 60%;\n  }\n}\n@media screen and (max-width: 660px) {\n  .vip_section .vip .vip_chat .chat-lf-input {\n    width: 70%;\n  }\n}\n@media screen and (max-width: 450px) {\n  .vip_section .vip {\n    min-width: 450px;\n  }\n}\n</style>"],"mappings":"AAqHA;AACA,OAAAA,MAAA;AACA,OAAAC,MAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,MAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,UAAA;MACAC,IAAA,GACA;QACAC,KAAA;MACA,GACA;QACAA,KAAA;MACA,GACA;QACAA,KAAA;MACA,EACA;MACAC,QAAA,GACA;QACAC,EAAA;QACAC,OAAA,EAAAC,OAAA;QACAT,IAAA;QACAU,OAAA;QACAC,IAAA;QACAC,MAAA;QACAC,GAAA;QACAC,QAAA;UACAC,MAAA;QACA;MACA,EACA;MACAC,OAAA,GACA;QACAT,EAAA;QACAF,KAAA;QACAY,KAAA;QACAC,QAAA;MACA,GACA;QACAX,EAAA;QACAF,KAAA;QACAY,KAAA;QACAC,QAAA;MACA,EACA;MACAC,GAAA;MACAC,KAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAF,KAAA,GAAAG,MAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAC,UAAAC,IAAA;MACA,KAAA1B,UAAA,GAAA0B,IAAA,CAAAxB,KAAA;IACA;IAEA;IACAqB,cAAA;MACA,IAAAI,KAAA;MACA,KAAAC,KAAA,CACAC,GAAA,MAAAb,GAAA;QACAc,OAAA;UACAC,aAAA,EAAAJ,KAAA,CAAAV;QACA;MACA,GACAe,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAlC,IAAA,CAAAmC,IAAA;UACAP,KAAA,CAAAT,MAAA,GAAAe,GAAA,CAAAlC,IAAA,CAAAA,IAAA;QACA;MACA,GACAoC,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IAEA;IACAG,OAAAb,IAAA;MACA,IAAAC,KAAA;MACA,KAAAC,KAAA,CACAY,IAAA,CACA,KAAAxB,GAAA,gBACA;QACAyB,GAAA,EAAAf,IAAA,CAAAtB;MACA,GACA;QACA0B,OAAA;UACAC,aAAA,EAAAJ,KAAA,CAAAV;QACA;MACA,CACA,EACAe,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAlC,IAAA,CAAAmC,IAAA;UACAP,KAAA,CAAAe,QAAA;YACAnC,OAAA;YACAoC,IAAA;UACA;QACA;UACAhB,KAAA,CAAAe,QAAA;YACAnC,OAAA,EAAA0B,GAAA,CAAAlC,IAAA,CAAA6C,GAAA;YACAD,IAAA;UACA;QACA;MACA,GACAR,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}