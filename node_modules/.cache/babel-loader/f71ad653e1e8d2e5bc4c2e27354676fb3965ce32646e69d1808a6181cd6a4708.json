{"ast":null,"code":"// 引入组件 以及 插件\nimport Header from \"@/components/Header.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport Pagination from \"@/components/pagenation.vue\";\nexport default {\n  name: \"FindSchool\",\n  components: {\n    Header,\n    Footer,\n    Pagination\n  },\n  data() {\n    return {\n      url: \"http://47.93.21.24:3001/api\",\n      token: \"\",\n      searchContent: \"\",\n      schoolList: [],\n      total: 30,\n      pagination: {\n        pageSize: 9,\n        p: 1\n      }\n    };\n  },\n  mounted() {\n    this.token = window.localStorage.getItem(\"X-token\");\n    this.getSchoolList();\n  },\n  methods: {\n    changePage(pager) {\n      this.pagination.p = pager.page;\n      // 分页器回调\n      this.$emit(\"change\", pager);\n      this.getSchoolList();\n    },\n    // 搜索\n    search() {\n      this.pagination.p = 1;\n      this.getSchoolList();\n    },\n    // 获取学校列表\n    getSchoolList() {\n      let _this = this;\n      this.$http.post(this.url + \"/university/list\", {\n        name: \"\",\n        pageSize: _this.pagination.p,\n        pageNum: _this.pagination.pageSize\n      }, {\n        headers: {\n          Authorization: _this.token\n        }\n      }).then(function (res) {\n        if (res.data.code == 200) {\n          _this.total = res.data.count;\n          _this.schoolList = res.data.data;\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["Header","Footer","Pagination","name","components","data","url","token","searchContent","schoolList","total","pagination","pageSize","p","mounted","window","localStorage","getItem","getSchoolList","methods","changePage","pager","page","$emit","search","_this","$http","post","pageNum","headers","Authorization","then","res","code","count","catch","error","console","log"],"sources":["src/pages/school/index.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 头部组件 -->\n    <Header></Header>\n\n    <!-- 背景区域 -->\n    <section class=\"bg_section\">院校库</section>\n\n    <!-- 学校区域 -->\n    <section class=\"school_section\">\n      <div class=\"container\">\n        <div class=\"school\">\n          <div class=\"school_lf\">\n            <div class=\"school_lf_select\">\n              <div class=\"select_hd\">\n                <div class=\"select_input\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"搜索您感兴趣的学校\"\n                    v-model=\"searchContent\"\n                  />\n                  <button @click=\"search\">搜索</button>\n                </div>\n                <span> 注：本名单未包含港澳台地区高等学校 </span>\n              </div>\n              <div class=\"select_bd\">\n                <div\n                  class=\"select_item\"\n                  v-for=\"(item, index) in schoolList\"\n                  :key=\"index\"\n                >\n                  <div class=\"select_item_img\">\n                    <img :src=\"item.img\" alt=\"\" />\n                  </div>\n                  <div class=\"select_item_msg\">\n                    <div class=\"select_item_title\">\n                      {{ item.name }}\n                      <span>\n                        {{ item.cityName }}\n                      </span>\n                    </div>\n                    <div class=\"select_item_detail\">\n                      {{ item.nature }} | {{ item.type }} |\n                      {{ item.f985 == 1 ? \"985 ｜\" : \"\" }}\n                      {{ item.f211 == 1 ? \"211\" : \"\" }}\n                    </div>\n                  </div>\n                  <div class=\"select_item_sort\">全国考分 第{{ index + 1 }}</div>\n                </div>\n              </div>\n              <Pagination\n                  @change=\"changePage\"\n                  :current=\"pagination.p\"\n                  :pageSize=\"pagination.pageSize\"\n                  :total=\"total\"\n                  :showQuickJumper=\"true\"\n                  :showTotal=\"true\"\n                  placement=\"right\"\n                  v-if=\"pagination && total\"\n                />\n            </div>\n          </div>\n          <div class=\"school_rt\">\n            <div class=\"school_rt_title\">\n              <img src=\"../../assets/uploads/school/hot.png\" alt=\"\" />\n              全国考分排行榜\n            </div>\n            <div class=\"school_rt_list\">\n              <div class=\"school_rt_item\">\n                <img src=\"../../assets/uploads/school/1.png\" alt=\"\" />\n                清华大学\n              </div>\n              <div class=\"school_rt_item\">\n                <img src=\"../../assets/uploads/school/2.png\" alt=\"\" />\n                北京大学\n              </div>\n              <div class=\"school_rt_item\">\n                <img src=\"../../assets/uploads/school/3.png\" alt=\"\" />\n                复旦大学\n              </div>\n              <div class=\"school_rt_item\">\n                <span>4</span>\n                中国科学院大学\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 5 </span>\n                中国人民大学\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 6 </span>\n                上海交通大学\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 7 </span>\n                北京大学医学部\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 8 </span>\n                中国科学技术大学\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 9 </span>\n                上海交通大学医学院\n              </div>\n              <div class=\"school_rt_item\">\n                <span> 10 </span>\n                南京大学\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- 尾部组件 -->\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n// 引入组件 以及 插件\nimport Header from \"@/components/Header.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport Pagination from \"@/components/pagenation.vue\";\nexport default {\n  name: \"FindSchool\",\n  components: {\n    Header,\n    Footer,\n    Pagination,\n  },\n  data() {\n    return {\n      url: \"http://47.93.21.24:3001/api\",\n      token: \"\",\n      searchContent: \"\",\n      schoolList: [],\n      total: 30,\n      pagination: {\n        pageSize: 9,\n        p: 1,\n      },\n    };\n  },\n  mounted() {\n    this.token = window.localStorage.getItem(\"X-token\");\n    this.getSchoolList();\n  },\n  methods: {\n    changePage(pager) {\n      this.pagination.p = pager.page;\n      // 分页器回调\n      this.$emit(\"change\", pager);\n      this.getSchoolList();\n    },\n    // 搜索\n    search() {\n      this.pagination.p = 1;\n      this.getSchoolList();\n    },\n    // 获取学校列表\n    getSchoolList() {\n      let _this = this;\n      this.$http\n        .post(\n          this.url + \"/university/list\",\n          {\n            name: \"\",\n            pageSize: _this.pagination.p,\n            pageNum: _this.pagination.pageSize,\n          },\n          {\n            headers: {\n              Authorization: _this.token,\n            },\n          }\n        )\n        .then(function (res) {\n          if (res.data.code == 200) {\n            _this.total = res.data.count;\n            _this.schoolList = res.data.data;\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n// 背景区域\n.bg_section {\n  width: 100%;\n  height: 10rem;\n  background: url(\"../../assets/uploads/school/bg.png\") no-repeat center center;\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-weight: bolder;\n  font-size: 1.8rem;\n}\n// 学校区域\n.school_section {\n  margin: 2rem 0;\n  .school {\n    display: flex;\n    justify-content: space-between;\n    .school_lf {\n      width: 80%;\n      .school_lf_select {\n        background-color: #fbfbfb;\n        border: 0.05rem solid #efefef;\n        border-radius: 0.8rem;\n        padding: 1rem 2rem;\n        .select_hd {\n          display: flex;\n          align-items: center;\n          .select_input {\n            position: relative;\n            display: flex;\n            align-items: center;\n            width: 25rem;\n            height: 2.5rem;\n            border: 0.05rem solid #ccc;\n            border-radius: 0.4rem;\n            input {\n              width: 100%;\n              height: 100%;\n              border: 0;\n              padding-left: 1rem;\n              background: transparent;\n            }\n            button {\n              position: absolute;\n              right: -0.2rem;\n              width: 5rem;\n              height: 2.6rem;\n              background-color: #427dff;\n              color: #fff;\n              border: 0;\n              border-radius: 0.4rem;\n            }\n          }\n          span {\n            color: #666;\n            font-size: 0.9rem;\n            margin-left: 1.5rem;\n          }\n        }\n        .select_bd {\n          margin-top: 1rem;\n          .select_item {\n            cursor: pointer;\n            position: relative;\n            border-bottom: 0.05rem solid #ccc;\n            padding: 2rem 0;\n            display: flex;\n            &:hover {\n              .select_item_msg {\n                .select_item_title {\n                  color: #427dff;\n                }\n              }\n            }\n            .select_item_img {\n              width: 5rem;\n              height: 5rem;\n              img {\n                width: 100%;\n                height: 100%;\n                object-fit: cover;\n              }\n            }\n            .select_item_msg {\n              width: 80%;\n              margin-left: 1rem;\n              .select_item_title {\n                display: flex;\n                align-items: center;\n                color: #333;\n                font-size: 1.5rem;\n                font-weight: bolder;\n                transition: all 0.3s;\n                span {\n                  font-weight: 400;\n                  color: #666;\n                  font-size: 0.9rem;\n                  margin-left: 2rem;\n                }\n              }\n              .select_item_detail {\n                margin-top: 1rem;\n                color: #666;\n                font-size: 0.9rem;\n              }\n            }\n            .select_item_sort {\n              position: absolute;\n              right: 0;\n              top: 50%;\n              transform: translateY(-50%);\n              color: #666;\n              font-size: 0.8rem;\n            }\n          }\n        }\n      }\n    }\n    .school_rt {\n      width: 18%;\n      background-color: #fbfbfb;\n      border: 0.05rem solid #efefef;\n      border-radius: 0.8rem;\n      padding: 1rem;\n      .school_rt_title {\n        display: flex;\n        align-items: center;\n        color: #333;\n        font-size: 1.2rem;\n        font-weight: bolder;\n        border-bottom: 0.05rem solid #ccc;\n        padding-bottom: 1rem;\n        img {\n          width: 1rem;\n          height: 1rem;\n          object-fit: cover;\n          margin-right: 0.5rem;\n        }\n      }\n      .school_rt_list {\n        margin-top: 1rem;\n        .school_rt_item {\n          display: flex;\n          align-items: center;\n          margin: 0.6rem 0;\n          cursor: pointer;\n          img {\n            width: 1rem;\n            height: 1rem;\n            object-fit: cover;\n            margin-right: 0.6rem;\n          }\n          span {\n            display: block;\n            font-size: 1rem;\n            color: #333;\n            width: 1rem;\n            text-align: center;\n            margin-right: 0.6rem;\n          }\n          color: #666;\n          font-size: 0.8rem;\n        }\n      }\n    }\n  }\n}\n\n@media screen and (max-width: 1200px) {\n  .container {\n    width: 100%;\n  }\n}\n@media screen and (max-width: 700px) {\n  .school_section .school .school_lf {\n    width: 70%;\n  }\n  .school_section .school .school_rt {\n    width: 25%;\n  }\n  .school_section\n    .school\n    .school_lf\n    .school_lf_select\n    .select_bd\n    .select_item\n    .select_item_msg {\n    width: 50%;\n  }\n}\n@media screen and (max-width: 600px) {\n  .school_section .school .school_lf .school_lf_select .select_hd {\n    flex-wrap: wrap;\n  }\n  .school_section\n    .school\n    .school_lf\n    .school_lf_select\n    .select_hd\n    .select_input {\n    width: 100%;\n    margin-bottom: 0.7rem;\n  }\n  .school_section .school .school_lf {\n    width: 70%;\n  }\n  .school_section .school .school_rt {\n    width: 25%;\n  }\n  .school_section\n    .school\n    .school_lf\n    .school_lf_select\n    .select_bd\n    .select_item\n    .select_item_msg {\n    width: 50%;\n  }\n}\n@media screen and (max-width: 450px) {\n  .school_section .school {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n  .school_section .school .school_lf {\n    width: 100%;\n  }\n  .school_section .school .school_rt {\n    width: 50%;\n    margin-top: 1rem;\n  }\n}\n</style>"],"mappings":"AAwHA;AACA,OAAAA,MAAA;AACA,OAAAC,MAAA;AACA,OAAAC,UAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAJ,MAAA;IACAC,MAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,GAAA;MACAC,KAAA;MACAC,aAAA;MACAC,UAAA;MACAC,KAAA;MACAC,UAAA;QACAC,QAAA;QACAC,CAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAP,KAAA,GAAAQ,MAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAC,WAAAC,KAAA;MACA,KAAAV,UAAA,CAAAE,CAAA,GAAAQ,KAAA,CAAAC,IAAA;MACA;MACA,KAAAC,KAAA,WAAAF,KAAA;MACA,KAAAH,aAAA;IACA;IACA;IACAM,OAAA;MACA,KAAAb,UAAA,CAAAE,CAAA;MACA,KAAAK,aAAA;IACA;IACA;IACAA,cAAA;MACA,IAAAO,KAAA;MACA,KAAAC,KAAA,CACAC,IAAA,CACA,KAAArB,GAAA,uBACA;QACAH,IAAA;QACAS,QAAA,EAAAa,KAAA,CAAAd,UAAA,CAAAE,CAAA;QACAe,OAAA,EAAAH,KAAA,CAAAd,UAAA,CAAAC;MACA,GACA;QACAiB,OAAA;UACAC,aAAA,EAAAL,KAAA,CAAAlB;QACA;MACA,CACA,EACAwB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAA3B,IAAA,CAAA4B,IAAA;UACAR,KAAA,CAAAf,KAAA,GAAAsB,GAAA,CAAA3B,IAAA,CAAA6B,KAAA;UACAT,KAAA,CAAAhB,UAAA,GAAAuB,GAAA,CAAA3B,IAAA,CAAAA,IAAA;QACA;MACA,GACA8B,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}