{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Pagination',\n  props: {\n    current: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: 10\n    },\n    total: {\n      type: Number,\n      default: 0\n    },\n    pageListNum: {\n      type: Number,\n      default: 5\n    },\n    hideOnSinglePage: {\n      type: Boolean,\n      default: false\n    },\n    showQuickJumper: {\n      type: Boolean,\n      default: false\n    },\n    showTotal: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      currentPage: this.current,\n      jumpNumber: '',\n      forwardMore: false,\n      backwardMore: false,\n      forwardArrow: false,\n      backwardArrow: false\n    };\n  },\n  computed: {\n    totalPage() {\n      return Math.ceil(this.total / this.pageSize);\n    },\n    pageList() {\n      return this.dealPageList(this.currentPage);\n    }\n  },\n  watch: {\n    current(to) {\n      this.currentPage = to;\n    },\n    currentPage(to) {\n      this.loading = true;\n      this.$emit('change', {\n        page: to,\n        pageSize: this.pageSize\n      });\n    }\n  },\n  created() {\n    // 监听键盘Enter按键\n    document.onkeydown = e => {\n      const ev = e || window.event;\n      if (ev && ev.keyCode === 13 && this.jumpNumber) {\n        this.jumpPage(this.jumpNumber);\n      }\n    };\n  },\n  methods: {\n    dealPageList(curPage) {\n      var resList = [];\n      var offset = Math.floor(this.pageListNum / 2); // 向下取整\n      var pager = {\n        start: curPage - offset,\n        end: curPage + offset\n      };\n      if (pager.start < 1) {\n        pager.end = pager.end + (1 - pager.start);\n        pager.start = 1;\n      }\n      if (pager.end > this.totalPage) {\n        pager.start = pager.start - (pager.end - this.totalPage);\n        pager.end = this.totalPage;\n      }\n      if (pager.start < 1) {\n        pager.start = 1;\n      }\n      if (pager.start > 1) {\n        this.forwardMore = true;\n      } else {\n        this.forwardMore = false;\n      }\n      if (pager.end < this.totalPage) {\n        this.backwardMore = true;\n      } else {\n        this.backwardMore = false;\n      }\n      for (let i = pager.start; i <= pager.end; i++) {\n        resList.push(i);\n      }\n      return resList;\n    },\n    onForward() {\n      this.currentPage = this.currentPage - this.pageListNum > 0 ? this.currentPage - this.pageListNum : 1;\n    },\n    onBackward() {\n      this.currentPage = this.currentPage + this.pageListNum < this.totalPage ? this.currentPage + this.pageListNum : this.totalPage;\n    },\n    jumpPage(jumpNum) {\n      if (Number(jumpNum)) {\n        if (Number(jumpNum) < 1) {\n          jumpNum = 1;\n        }\n        if (Number(jumpNum) > this.totalPage) {\n          jumpNum = this.totalPage;\n        }\n        this.changePage(Number(jumpNum));\n      }\n      this.jumpNumber = ''; // 清空跳转输入框\n    },\n\n    changePage(pageNum) {\n      if (pageNum === 0 || pageNum === this.totalPage + 1) {\n        return false;\n      }\n      if (this.currentPage !== pageNum) {\n        this.currentPage = pageNum;\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","current","type","Number","default","pageSize","total","pageListNum","hideOnSinglePage","Boolean","showQuickJumper","showTotal","data","currentPage","jumpNumber","forwardMore","backwardMore","forwardArrow","backwardArrow","computed","totalPage","Math","ceil","pageList","dealPageList","watch","to","loading","$emit","page","created","document","onkeydown","e","ev","window","event","keyCode","jumpPage","methods","curPage","resList","offset","floor","pager","start","end","i","push","onForward","onBackward","jumpNum","changePage","pageNum"],"sources":["src/components/pagenation.vue"],"sourcesContent":["<template>\n  <div :class=\"[`m-pagination`, { hidden: hideOnSinglePage && total<=pageSize }]\">\n    <div class=\"m-pagination-wrap\">\n      <span class=\"u-item\" :class=\"{ disabled: currentPage === 1 }\" @click=\"changePage(currentPage - 1)\">\n        上一页\n      </span>\n      <span :class=\"['u-item', { active: currentPage === 1 }]\" @click=\"changePage(1)\">1</span>\n      <span\n        class=\"m-arrow\"\n        ref=\"forward\"\n        v-show=\"forwardMore\"\n        @click=\"onForward\"\n        @mouseenter=\"forwardArrow = true\"\n        @mouseleave=\"forwardArrow = false\">\n        <span v-show=\"!forwardArrow\" class=\"u-ellipsis\">···</span>\n        <svg v-show=\"forwardArrow\" class=\"u-icon\" viewBox=\"64 64 896 896\" data-icon=\"double-left\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z\"></path></svg>\n      </span>\n      <span :class=\"['u-item', { active: currentPage === page }]\" v-show=\"page!==1 && page!==totalPage\" v-for=\"(page, index) in pageList\" :key=\"index\" @click=\"changePage(page)\">{{ page }}</span>\n      <span\n        class=\"m-arrow\"\n        ref=\"backward\"\n        v-show=\"backwardMore\"\n        @click=\"onBackward\"\n        @mouseenter=\"backwardArrow = true\"\n        @mouseleave=\"backwardArrow = false\">\n        <span v-show=\"!backwardArrow\" class=\"u-ellipsis\">•••</span>\n        <svg v-show=\"backwardArrow\" class=\"u-icon\" viewBox=\"64 64 896 896\" data-icon=\"double-right\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 0 0 188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 0 0 492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z\"></path></svg>\n      </span>\n      <span v-show=\"totalPage!==1\" :class=\"['u-item', { active: currentPage === totalPage }]\" @click=\"changePage(totalPage)\">{{ totalPage }}</span>\n      <span class=\"u-item\" :class=\"{ disabled: currentPage === totalPage }\" @click=\"changePage(currentPage + 1)\">\n          下一页\n      </span>\n      <span class=\"u-jump-page\" v-if=\"showQuickJumper\">跳转至<input type=\"text\" v-model=\"jumpNumber\" />页</span>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Pagination',\n  props: {\n    current: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: 10\n    },\n    total: {\n      type: Number,\n      default: 0\n    },\n    pageListNum: {\n      type: Number,\n      default: 5\n    },\n    hideOnSinglePage: {\n      type: Boolean,\n      default: false\n    },\n    showQuickJumper: {\n      type: Boolean,\n      default: false\n    },\n    showTotal: {\n      type: Boolean,\n      default: false\n    },\n  },\n  data () {\n    return {\n      currentPage: this.current,\n      jumpNumber: '',\n      forwardMore: false,\n      backwardMore: false,\n      forwardArrow: false,\n      backwardArrow: false \n    }\n  },\n  computed: {\n    totalPage () { \n      return Math.ceil(this.total / this.pageSize) \n    },\n    pageList () { \n      return this.dealPageList(this.currentPage)\n    }\n  },\n  watch: {\n    current (to) {\n      this.currentPage = to\n    },\n    currentPage (to) {\n      this.loading = true\n      this.$emit('change', {\n        page: to,\n        pageSize: this.pageSize\n      })\n    }\n  },\n  created () {\n    // 监听键盘Enter按键\n    document.onkeydown = (e) => {\n      const ev = e || window.event\n      if (ev && ev.keyCode === 13 && this.jumpNumber) {\n        this.jumpPage(this.jumpNumber)\n      }\n    }\n  },\n  methods: {\n    dealPageList (curPage) {\n      var resList = []\n      var offset = Math.floor(this.pageListNum / 2) // 向下取整\n      var pager = {\n        start: curPage - offset,\n        end: curPage + offset\n      }\n      if (pager.start < 1) {\n        pager.end = pager.end + (1 - pager.start)\n        pager.start = 1\n      }\n      if (pager.end > this.totalPage) {\n        pager.start = pager.start - (pager.end - this.totalPage)\n        pager.end = this.totalPage\n      }\n      if (pager.start < 1) {\n        pager.start = 1\n      }\n      if (pager.start > 1) {\n        this.forwardMore = true\n      } else {\n        this.forwardMore = false\n      }\n      if (pager.end < this.totalPage) {\n        this.backwardMore = true\n      } else {\n        this.backwardMore = false\n      }\n      for (let i = pager.start; i <= pager.end; i++) {\n        resList.push(i)\n      }\n      return resList\n    },\n    onForward () {\n      this.currentPage = this.currentPage - this.pageListNum > 0 ? this.currentPage - this.pageListNum : 1\n    },\n    onBackward () {\n      this.currentPage = this.currentPage + this.pageListNum < this.totalPage ? this.currentPage + this.pageListNum : this.totalPage\n    },\n    jumpPage (jumpNum) {\n      if (Number(jumpNum)) {\n        if (Number(jumpNum) < 1) {\n          jumpNum = 1\n        }\n        if (Number(jumpNum) > this.totalPage) {\n          jumpNum = this.totalPage\n        }\n        this.changePage(Number(jumpNum))\n      }\n      this.jumpNumber = '' // 清空跳转输入框\n    },\n    changePage (pageNum) {\n      if (pageNum === 0 || pageNum === this.totalPage + 1) {\n        return false\n      }\n      if (this.currentPage !== pageNum) {\n        this.currentPage = pageNum\n      }\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.m-pagination {\n  margin: 16px auto;\n  text-align: center;\n  margin-top: 50px;\n}\n.hidden {\n  display: none;\n}\n.m-pagination-wrap {\n  display: inline-block;\n  height: 42px;\n  line-height: 42px;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.65);\n  text-align: center;\n  .mr8 {\n    margin-right: 8px;\n  }\n  .u-item {\n    min-width: 30px;\n    height: 42px;\n    padding: 0 17px;\n    display: inline-block;\n    user-select: none; // 禁止选取文本\n    border-radius: 4px;\n    cursor: pointer;\n    transition: all .3s;\n    color: #000;\n    background-color: #fff;\n    &:hover {\n      .active();\n    }\n    .u-arrow {\n      fill: rgba(0, 0, 0, 0.65);\n      width: 12px;\n      height: 12px;\n      transition: all .3s;\n    }\n    &:not(:last-child) {\n      margin-right: 8px;\n    }\n  }\n  .active { // 悬浮/选中样式\n    font-weight: 500;\n        border: 1px solid #000;\n    .u-arrow {\n      fill: #000;\n    }\n  }\n  .disabled {\n    // pointer-events: none; // 禁用鼠标事件\n    color: rgba(0, 0, 0, 0.25);\n    background: #fff;\n    border-color: #d9d9d9;\n    cursor: not-allowed;\n    &:hover {\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.65);\n      border-color: #000;\n      .u-arrow {\n        fill: rgba(0, 0, 0, 0.25);\n      }\n    }\n    .u-arrow {\n      fill: rgba(0, 0, 0, 0.25);\n    }\n  }\n  .m-arrow {\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: 8px;\n    min-width: 42px;\n    height: 42px;\n    letter-spacing: 2px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.25);\n    transition: all .3s;\n    cursor: pointer;\n    .u-ellipsis {\n      transition: all .3s;\n    }\n    .u-icon {\n      fill: #000;\n      width: 12px;\n      height: 12px;\n    }\n  }\n  .u-jump-page {\n    margin-left: 8px;\n    line-height: 32px;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.65);\n    input {\n      vertical-align: top;\n      width: 42px;\n      height: 42px;\n      padding: 5px 11px;\n      margin: 0 8px;\n      background-color: #fff;\n      border-radius: 4px;\n      text-align: left;\n      outline: none;\n      transition: all 0.3s;\n      border: 0;\n      &:hover {\n        border: 1px solid #000\n      }\n      &:focus {\n        border: 1px solid #000;\n      }\n    }\n  }\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}